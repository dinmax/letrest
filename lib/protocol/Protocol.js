/*! letrest - v0.0.15 - 2015-03-03 */exports.newError=function(a,b,c,d){return{type:"error",errorType:c,code:a,msg:b,trace:d}},exports.serverError=function(a){return this.newError(500,a.message,"server")},exports.notFound=function(){return this.newError(404,"Entity not found","server")},exports.dataError=function(){return this.newError(500,"Failed to retrieve data","server")},exports.validationError=function(a){return this.newError(400,"There are format issues","business",a)},exports.getError=function(a){if(!a.code)return this.dataError();switch(a.code){case 400:return this.validationError(a.message);case 404:return this.notFound();case 500:return this.dataError();default:return this.newError(a.code,a.message,"business")}},exports.success=function(a,b,c){return c instanceof Array?{entity:a.name,data:c,rows:c.length,paginated:c.paginated,total_rows:c.total_rows,from:c.from||0}:{entity:a.name,data:c}};