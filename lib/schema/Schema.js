/*! letrest - v0.1.1 - 2016-04-06 */var SCHEMA=require("../Config.js").getSchemas(),VALIDATOR=require("jsonschema").Validator,LOG=require("uw").log,MODULE="SCHEMA	";exports.validate=function(a,b){LOG.verbose(MODULE,"Validating entity",a.name);var c=new VALIDATOR,d=SCHEMA[a.name];if(!d||!d.definition||!d.dependencies)throw new Error('You need at least a full schema definition for "'+a.name+'".{ definition:{},dependencies:[]}');LOG.verbose(MODULE,"Configuring validation",a.name);for(var e=0;e<d.dependencies.length;e++)c.addSchema(d.dependencies[e],d.dependencies[e].id);return LOG.verbose(MODULE,"Doing validation",a.name),c.validate(b,d.definition)};