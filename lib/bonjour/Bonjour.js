/*! letrest - v0.0.14 - 2015-02-27 */var LOG=require("uw").log,SCHEMA=require("../Config.js").getSchemas(),CRUDS=require("../Config.js").getCRUDs(),WADLS=require("../Config.js").getWADLs(),PATH=require("path"),WADL_PATH=PATH.dirname(process.mainModule.filename)+"/../web/public/",MODULE="BONJOUR	";exports.config=function(a){LOG.verbose(MODULE,"Configuring config discover process"),a.get("/_discover/:type/:name",function(a,b){LOG.info();var c=null;switch(a.params.type){case"schema":LOG.info(MODULE,"Request for schema =>",a.params.name),c=SCHEMA[a.params.name];break;case"definition":try{LOG.info(MODULE,"Request for endpoint =>",a.params.name),c=WADLS[a.params.name]}catch(d){LOG.error(MODULE,"Failed to retrieve endpoint config",d.toString()),c=null}break;case"crud":LOG.info(MODULE,"Request for crud =>",a.params.name),c=CRUDS[a.params.name]}c?b.send(c):b.status(404).send("Discovering not found")})};