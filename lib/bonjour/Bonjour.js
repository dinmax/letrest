/*! letrest - v0.0.32 - 2015-08-06 */var LOG=require("uw").log,SCHEMA=require("../Config.js").getSchemas(),CRUDS=require("../Config.js").getCRUDs(),WADLS=require("../Config.js").getWADLs(),PATH=require("path"),WADL_PATH=PATH.dirname(process.mainModule.filename)+"/../web/public/",MODULE="BONJOUR	";exports.config=function(a){LOG.verbose(MODULE,"Configuring config discover process"),a.get("/_discover/:type/:name",function(a,b,c){LOG.info();var d=null;switch(a.params.type){case"schema":LOG.info(MODULE,"Request for schema =>",a.params.name),d=SCHEMA[a.params.name];break;case"definition":try{LOG.info(MODULE,"Request for endpoint =>",a.params.name),d=WADLS[a.params.name]}catch(e){LOG.error(MODULE,"Failed to retrieve endpoint config",e.toString()),d=null}break;case"crud":LOG.info(MODULE,"Request for crud =>",a.params.name),d=CRUDS[a.params.name]}d?b.send(d):b.status(404).send("Discovering not found")})};