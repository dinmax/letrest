<div class="mappings">
  <h1>Field mapping</h1>
  <h4>This step will let you compose the object that will be asociated to the entity.</h4>

  <div class="mappers">
    <div>
      <table ng-init="EntityWizard.initToggleMappingsHelper();" ng-repeat="(tableName, subset) in EntityWizard.newEntity._mappingByTable">
        <thead>
          <tr>
            <th class="table__title" colspan="3">Table: {{tableName}}</th>
          </tr>
          <tr>
            <th class="check"><input ng-change="EntityWizard.toggleMappings()" ng-model="EntityWizard.toggleMappingsHelper" type="checkbox"></th>
            <th class="name">Name</th>
            <th>Attribute</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="mapping in subset">
            <td class="check">
              <input id="mapping{{$index}}" type="checkbox" ng-model="mapping._selected">
            </td>
            <td class="field">
              <label for="mapping{{$index}}">{{mapping.field}}</label>
            </td>
            <td class="attribute">
              <input type="text" ng-disabled="!mapping._selected"
                     ng-model="mapping.attribute">
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="preview">
    <h5>Response Preview</h5>
    <pre>{{EntityWizard.getMapper() | json}}</pre>
  </div>
</div>
